---
import "../styles/global.css";
import ForsideLoad from "../components/ForsideLoad.astro";
---

<section id="intro-animation" class="intro-animation">
  <div class="text-container">
    <h1 class="handwritten-text">Conditori La Glace</h1>
  </div>
</section>
<ForsideLoad />

<script>
  import { inView } from "motion";

  const elementmedanimation1 = document.querySelector(".kage");

  inView(elementmedanimation1, () => {
    elementmedanimation1.classList.add(
      "animate__animated",
      "animate__fadeInUp",
      "animate__delay-0.5s"
    );
  });

  const elementmedanimation2 = document.querySelector(".kaffe");

  inView(elementmedanimation2, () => {
    elementmedanimation2.classList.add(
      "animate__animated",
      "animate__fadeInUp",
      "animate__delay-0.5s"
    );
  });

  const bryllupskage = document.querySelector(".bryllupskage");

  inView(bryllupskage, () => {
    bryllupskage.classList.add(
      "animate__animated",
      "animate__fadeIn",
      "animate__delay-0.5s"
    );
  });

  const kransekage = document.querySelector(".kransekage");

  inView(kransekage, () => {
    kransekage.classList.add(
      "animate__animated",
      "animate__fadeIn",
      "animate__delay-0.5s"
    );
  });

  const specielkage = document.querySelector(".specielkage");

  inView(specielkage, () => {
    specielkage.classList.add(
      "animate__animated",
      "animate__fadeIn",
      "animate__delay-0.5s"
    );
  });

  const headline1 = document.querySelector(".headline1");

  inView(headline1, () => {
    headline1.classList.add(
      "animate__animated",
      "animate__fadeInUp",
      "animate__delay-0.5s"
    );
  });

  const headline2 = document.querySelector(".headline2");

  inView(headline2, () => {
    headline2.classList.add(
      "animate__animated",
      "animate__fadeInUp",
      "animate__delay-0.5s"
    );
  });

  const headline3 = document.querySelector(".headline3");

  inView(headline3, () => {
    headline3.classList.add(
      "animate__animated",
      "animate__fadeInUp",
      "animate__delay-0.5s"
    );
  });
  document.addEventListener("DOMContentLoaded", () => {
    const introAnimation = document.getElementById("intro-animation");
    const textElement = document.querySelector(".handwritten-text");

    const typingAnimationDuration =
      parseFloat(getComputedStyle(textElement).animationDuration) * 1000;

    setTimeout(() => {
      introAnimation.style.transition = "opacity 1s";
      introAnimation.style.opacity = "0";

      setTimeout(() => {
        introAnimation.style.display = "none";
      }, 1000);
    }, typingAnimationDuration + 1000);
  });
</script>
